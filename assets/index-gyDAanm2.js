
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.hurui.me
 */
    
import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-wzMcVtye.js";import{e as A,x as V,K as G,L as N,I as P,o as u,c as a,a as o,w as s,r as d,M as T,u as g,d as t,t as U,G as k,b as n,E as y}from"./index-Bjt32GzP.js";const j=A({name:"Auth",__name:"index",props:{value:{},all:{type:Boolean}},setup(B){const l=B,f=G();function E(){return l.all?f.authAll(typeof l.value=="string"?[l.value]:l.value):f.auth(l.value)}return(i,x)=>E()?V(i.$slots,"default",{key:0}):V(i.$slots,"no-auth",{key:1})}}),I={key:0},K={key:1},L={class:"flex-col-start gap-2"},F=A({__name:"index",setup(B){const{auth:l,authAll:f}=G(),E=N(),i=P();async function x(p){await i.login({account:p,password:""}),await i.getPermissions()}function C(p){l(p)?y.success("校验通过"):y.error("校验不通过")}function _(p){f(p)?y.success("校验通过"):y.error("校验不通过")}return(p,e)=>{const $=d("ElRadioButton"),R=d("ElRadioGroup"),r=d("ElTag"),v=j,b=d("ElButton"),S=d("ElButtonGroup"),D=M,w=T("auth");return u(),a("div",null,[o(D,null,{default:s(()=>[g(E).settings.app.enablePermission?(u(),a("div",K,[e[21]||(e[21]=t("h3",null,"切换帐号",-1)),o(R,{modelValue:g(i).account,"onUpdate:modelValue":e[0]||(e[0]=m=>g(i).account=m),onChange:x},{default:s(()=>[o($,{label:"admin"}),o($,{label:"test"})]),_:1},8,["modelValue"]),e[22]||(e[22]=t("h3",null,"帐号权限",-1)),t("div",null,U(g(i).permissions),1),e[23]||(e[23]=t("h3",null,"鉴权指令（请对照代码查看）",-1)),t("div",null,[k((u(),a("div",null,e[5]||(e[5]=[n(" 如果你有 permission.browse 权限则能看到这句话 ")]))),[[w,"permission.browse"]]),k((u(),a("div",null,e[6]||(e[6]=[n(" 如果你有 permission.create 权限则能看到这句话 ")]))),[[w,"permission.create"]]),k((u(),a("div",null,e[7]||(e[7]=[n(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")]))),[[w,["permission.browse","permission.create"]]]),k((u(),a("div",null,e[8]||(e[8]=[n(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")]))),[[w,["permission.browse","permission.create"],void 0,{all:!0}]])]),e[24]||(e[24]=t("h3",null,"鉴权组件（请对照代码查看）",-1)),t("div",L,[o(v,{value:"permission.browse"},{"no-auth":s(()=>[o(r,{type:"danger"},{default:s(()=>e[10]||(e[10]=[n(" 你没有 permission.browse 权限 ")])),_:1})]),default:s(()=>[o(r,null,{default:s(()=>e[9]||(e[9]=[n("你有 permission.browse 权限")])),_:1})]),_:1}),o(v,{value:"permission.create"},{"no-auth":s(()=>[o(r,{type:"danger"},{default:s(()=>e[12]||(e[12]=[n(" 你没有 permission.create 权限 ")])),_:1})]),default:s(()=>[o(r,null,{default:s(()=>e[11]||(e[11]=[n("你有 permission.create 权限")])),_:1})]),_:1}),o(v,{value:["permission.browse","permission.create"]},{"no-auth":s(()=>[o(r,{type:"danger"},{default:s(()=>e[14]||(e[14]=[n(" 你没有 permission.browse 或 permission.create 权限 ")])),_:1})]),default:s(()=>[o(r,null,{default:s(()=>e[13]||(e[13]=[n("你有 permission.browse 或 permission.create 权限")])),_:1})]),_:1}),o(v,{value:["permission.browse","permission.create"],all:""},{"no-auth":s(()=>[o(r,{type:"danger"},{default:s(()=>e[16]||(e[16]=[n(" 你没有 permission.browse 和 permission.create 权限 ")])),_:1})]),default:s(()=>[o(r,null,{default:s(()=>e[15]||(e[15]=[n("你有 permission.browse 和 permission.create 权限")])),_:1})]),_:1})]),e[25]||(e[25]=t("h3",null,"鉴权函数（请对照代码查看）",-1)),t("div",null,[o(S,{style:{display:"block","margin-bottom":"10px"}},{default:s(()=>[o(b,{onClick:e[1]||(e[1]=m=>C("permission.browse"))},{default:s(()=>e[17]||(e[17]=[n(" 校验 permission.browse 权限 ")])),_:1}),o(b,{onClick:e[2]||(e[2]=m=>C("permission.create"))},{default:s(()=>e[18]||(e[18]=[n(" 校验 permission.create 权限 ")])),_:1})]),_:1}),o(S,null,{default:s(()=>[o(b,{onClick:e[3]||(e[3]=m=>C(["permission.browse","permission.create"]))},{default:s(()=>e[19]||(e[19]=[n(" 校验 permission.browse 或 permission.create 权限 ")])),_:1}),o(b,{onClick:e[4]||(e[4]=m=>_(["permission.browse","permission.create"]))},{default:s(()=>e[20]||(e[20]=[n(" 校验 permission.browse 和 permission.create 权限 ")])),_:1})]),_:1})])])):(u(),a("div",I," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});export{F as default};
